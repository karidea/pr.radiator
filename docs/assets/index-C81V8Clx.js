const B=(t,o)=>t.createdAt.getTime()-o.createdAt.getTime(),te=(t,o)=>o.committedDate.getTime()-t.committedDate.getTime(),P=document.getElementById("progress-bar"),D=document.getElementById("repo-view"),C=document.getElementById("repo-header"),$=document.getElementById("repo-list"),oe=document.getElementById("repo-nav-hint"),T=document.getElementById("pr-view"),y=document.getElementById("open-pr-view"),L=document.getElementById("recent-pr-view"),E=document.getElementById("settings-form"),M=document.getElementById("shortcuts-overlay"),q=document.getElementById("owner"),H=document.getElementById("team"),z=document.getElementById("token"),se=document.getElementById("config-form"),ne=(t,o,i)=>{const r=i?`"${i}"`:"null";return`{organization(login: "${t}") {team(slug: "${o}") {repositories(first: 100, after: ${r}) {totalCount pageInfo {endCursor hasNextPage} edges {permission node {name isArchived}}}}}}`},re=`
  mainRef: ref(qualifiedName: "refs/heads/main") {
    ...RecentCommitHistory
  }
  masterRef: ref(qualifiedName: "refs/heads/master") {
    ...RecentCommitHistory
  }
`,ie=`
  fragment RecentCommitHistory on Ref {
    target {
      ... on Commit {
        history(first: 25, since: "%s") {
          nodes {
            committedDate
            messageHeadline
            parents {
              totalCount
            }
            associatedPullRequests(first: 5) {
              nodes {
                createdAt
                number
                title
                url
                author { login }
                repository { name }
              }
            }
          }
        }
      }
    }
  }
`,ce="pullRequests(last: 15, states: OPEN) { nodes {title url createdAt baseRefName headRefOid isDraft number author { login } comments (first: 50) {nodes {createdAt author { login }}} reviews(first: 50) {nodes {state createdAt author { login }}} commits(last: 1) { nodes { commit { oid statusCheckRollup { state }}}} reviewDecision }}",ae=(t,o,i,r="")=>{let s;t==="recent"?s=re.replace("%s",r):s=ce;const n=i.map(a=>`${a.replace(/[^a-zA-Z0-9]/g,"")}:repository(owner: "${o}", name: "${a}") { name ${s} }`).join(" ");return t==="recent"?`
      ${ie.replace("%s",r)}

      query ${t}PRs {
        ${n}
      }
    `:`query ${t}PRs { ${n} }`},v={fetchBatchQueries:async(t,o,i,r,s)=>{const n=Array.from({length:Math.ceil(r.length/4)},(a,d)=>r.slice(d*4,(d+1)*4));return Promise.all(n.map(async a=>{const d=await fetch("https://api.github.com/graphql",{method:"post",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify({query:ae(o,i,a,s)})});if(!d.ok)throw new Error(`GraphQL request failed: ${d.status} ${d.statusText}`);return d.json()}))},queryTeamRepos:async(t,o,i)=>{let r=!0,s=null;const n=[];for(;r;){const a=await fetch("https://api.github.com/graphql",{method:"post",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify({query:ne(o,i,s)})});if(!a.ok)throw new Error(`GraphQL request failed: ${a.status} ${a.statusText}`);const h=(await a.json()).data.organization.team.repositories;h.edges.forEach(c=>{c.permission==="ADMIN"&&c.node.isArchived===!1&&n.push(c.node.name)}),r=h.pageInfo.hasNextPage,s=h.pageInfo.endCursor,await new Promise(c=>setTimeout(c,1e3))}return n},filterTeamRepos:async(t,o,i,r)=>{const s=[],a=Array(20).fill(Promise.resolve()),d=async c=>{try{const l=await fetch(`https://api.github.com/repos/${o}/${c}/teams`,{headers:{Authorization:`Bearer ${t}`}});if(!l.ok)throw new Error(`REST request failed: ${l.status} ${l.statusText}`);const g=await l.json();for(const f of g)if(f.slug===i&&f.permission==="admin"){s.push(c);break}}catch(l){console.error(`Error fetching teams for repo ${c}:`,l)}},h=r.map((c,l)=>{const g=()=>d(c),f=a[l%20].then(g);return a[l%20]=f,f});return await Promise.all(h),s}},F=t=>{t.createdAt=new Date(t.createdAt),t.committedDate&&(t.committedDate=new Date(t.committedDate)),t.reviews?.nodes?.forEach(o=>{o.createdAt=new Date(o.createdAt)}),t.comments?.nodes?.forEach(o=>{o.createdAt=new Date(o.createdAt)})},le=async(t,o,i,r)=>{try{u({isFetchingRecentPRs:!0}),k();const s=i.filter(g=>!r.includes(g)),n=new Date(Date.now()-336*60*60*1e3).toISOString(),a=await v.fetchBatchQueries(t,"recent",o,s,n),d=[];a.forEach(g=>{Object.keys(g.data).forEach(p=>{const m=g.data[p],A=m.mainRef;A?.target?.history?.nodes?.length>0&&d.push(A);const b=m.masterRef;b?.target?.history?.nodes?.length>0&&d.push(b)})});const h=[];d.forEach(g=>g.target.history.nodes.forEach(f=>f.parents.totalCount>1?f.associatedPullRequests.nodes.forEach(p=>{p.committedDate=f.committedDate,h.push(p)}):null));const c=[...new Set(h.map(g=>g.url))].map(g=>h.find(f=>f.url===g));c.forEach(F);const l=c.sort(te);u({recentPRs:l})}catch(s){console.log("Failed to fetch recent PRs",s)}finally{w(),u({isFetchingRecentPRs:!1})}},R=async(t,o,i,r)=>{try{u({isFetchingOpenPRs:!0}),k();const s=i.filter(h=>!r.includes(h)),n=await v.fetchBatchQueries(t,"open",o,s),a=[];n.forEach(h=>{Object.keys(h.data).forEach(l=>{const g=h.data[l].name,f=h.data[l]?.pullRequests.nodes??[];f.length>0&&a.push(...f.map(p=>({...p,repository:{name:g}})))})}),a.forEach(F);const d=a.sort(B).filter(h=>!h.isDraft);u({PRs:d})}catch(s){console.log("Failed to fetch open PRs",s)}finally{w(),u({isFetchingOpenPRs:!1})}},de=()=>'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" class="event-icon"><path d="M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z" /></svg>',O=()=>'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 384 512" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" class="event-icon"><path d="M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z" /></svg>',j=()=>'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" class="event-icon"><path d="M3 13h18v-2H3v2z" /></svg>',Q=()=>'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 352 512" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" class="event-icon"><path d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z" /></svg>',J=()=>'<svg stroke="currentColor" fill="currentColor" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" class="event-icon"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z" /></svg>',ge=()=>'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" class="event-icon"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" /></svg>',he=()=>'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" class="event-icon unreviewed-icon"><title>Unreviewed PR - Needs review</title><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z" /></svg>',fe=(t,o)=>{const i=[];t.nodes.forEach(n=>{const a=n.state==="COMMENTED"?"COMMENTED":n.state;i.push({createdAt:n.createdAt,author:n.author.login,state:a})}),o.nodes.forEach(n=>{i.push({createdAt:n.createdAt,author:n.author.login,state:"COMMENTED"})});const r=[];let s=null;return i.sort(B).forEach(n=>{!s||n.author!==s.author||n.state!==s.state?(s&&r.push(s),s={...n,count:1}):s.count=(s.count||1)+1}),s&&r.push(s),r},me=t=>{const o=Date.now()-t.getTime();return o<36e5?"last-hour":o<72e5?"last-two-hours":o<864e5?"last-day":o<6048e5?"last-week":"over-week-old"},ue=(t,o)=>{const i=o.nodes.find(d=>d.commit.oid===t),r={SUCCESS:J(),PENDING:O(),FAILURE:Q(),EXPECTED:O(),ERROR:ge()},s=i?.commit?.statusCheckRollup?.state||"ERROR",n=r[s]||j();return`<span class="${s.toLowerCase()}">${n}</span>`},pe=({count:t,author:o,createdAt:i,state:r})=>{const s=(t??1)>1?`(${t})`:"",n=`${o}${s}`,a=i.toLocaleString();let d=`${n} ${r.toLowerCase()} at ${a}`;return r==="APPROVED"?`<span class="event-group approved" title="${d}">${n}${J()}</span>`:r==="CHANGES_REQUESTED"?(d=`${n} requested changes at ${a}`,`<span class="event-group changes-requested" title="${d}">${n}${Q()}</span>`):r==="COMMENTED"?(d=`${n} commented at ${a}`,`<span class="event-group commented" title="${d}">${n}${de()}</span>`):r==="DISMISSED"?(d=`${n} dismissed at ${a}`,`<span class="event-group dismissed" title="${d}">${n}${j()}</span>`):""},Re=t=>{const o=Date.now()-t.getTime();if(o<0||isNaN(o))return"Invalid Date";const i=Math.round(o/6e4),r=Math.round(o/864e5),s=Math.round(r/30),n=Math.round(r/360);return i<1?"less than a minute ago":i<45?`${i} minute${i===1?"":"s"} ago`:i<90?"about 1 hour ago":r<1?`about ${Math.floor(i/60)} hour${Math.floor(i/60)===1?"":"s"} ago`:r<30?`${r} day${r===1?"":"s"} ago`:s<12?`about ${s} month${s===1?"":"s"} ago`:`about ${n} year${n===1?"":"s"} ago`},N=(t,o=!0,i=!1)=>{const{number:r,title:s,url:n,repository:a}=t,h=t[o?"committedDate":"createdAt"],c=Re(h),l=`pr-time-${t.url}`;if(o)return`<div><span id="${l}" title="${h}">${c}</span> ${t.author.login}&nbsp;<a href="${n}" target="_blank" rel="noopener noreferrer">${a.name}/pull/${r}</a>&nbsp;${s}</div>`;const{createdAt:g,reviews:f,comments:p,baseRefName:m,author:{login:A},headRefOid:b,commits:U}=t,S=fe(f,p),V=ue(b,U),W=f.nodes.length===0?he():"",K=`<a href="${n}" target="_blank" rel="noopener noreferrer">${a.name}#${t.number}</a>`,X=i?m:"",Z=S.length>0?`<br>&nbsp;&nbsp;${S.map((ee,ye)=>pe({...ee})).join("")}`:"",Y=`<span id="${l}" title="${h}">${c}</span>`;return`<div class="${me(g)}">${Y} ${W} ${V} ${X} ${A} ${K} ${s} ${Z}</div>`},we={config:{token:localStorage.getItem("PR_RADIATOR_TOKEN")||"",owner:localStorage.getItem("PR_RADIATOR_OWNER")||"",team:localStorage.getItem("PR_RADIATOR_TEAM")||"",repos:JSON.parse(localStorage.getItem("PR_RADIATOR_REPOS")||"[]"),ignoreRepos:JSON.parse(localStorage.getItem("PR_RADIATOR_IGNORE_REPOS")||"[]")},PRs:[],recentPRs:[],showDependabotPRs:!1,showMasterPRs:!0,showNeedsReviewPRs:!1,showRecentPRs:!1,showRepoLinks:!1,ignoreMode:!1,selectedRepoIndex:-1,isFetchingOpenPRs:!1,isFetchingRecentPRs:!1};let e={...we};const k=()=>{P&&P.classList.add("active")},w=()=>{P&&(P.classList.add("fade-out"),setTimeout(()=>{P&&P.classList.remove("active","fade-out")},300))},u=t=>{e={...e,...t},I()},x=t=>e.config.ignoreRepos.includes(t),G=t=>{const o=[...e.config.ignoreRepos],i=o.indexOf(t);i>-1?o.splice(i,1):o.push(t),u({config:{...e.config,ignoreRepos:o}})},ve=t=>{t.preventDefault();const o=q.value,i=z.value,r=H.value;localStorage.setItem("PR_RADIATOR_OWNER",o),localStorage.setItem("PR_RADIATOR_TOKEN",i),localStorage.setItem("PR_RADIATOR_TEAM",r),u({config:{...e.config,team:r,token:i,owner:o}}),e.config.token&&e.config.owner&&e.config.repos.length>0?R(e.config.token,e.config.owner,e.config.repos,e.config.ignoreRepos).catch(s=>{console.error("Error fetching PRs after submit",s)}):e.config.token&&e.config.owner&&e.config.team&&e.config.repos.length===0&&(k(),I(),v.queryTeamRepos(i,o,r).then(s=>v.filterTeamRepos(i,o,r,s)).then(s=>{localStorage.setItem("PR_RADIATOR_REPOS",JSON.stringify(s)),u({config:{...e.config,repos:s}}),I(),s.length>0?R(i,o,s,e.config.ignoreRepos).catch(n=>{console.error("Error fetching PRs after repos",n),w()}):w()}).catch(s=>{console.error("Error fetching repos after submit",s),w(),I()}))},I=()=>{const{config:{token:t,owner:o,team:i,repos:r},ignoreMode:s,selectedRepoIndex:n,showRepoLinks:a}=e;if(document.title="PR Radiator",!t||!o||!i){E.style.display="block",D.classList.add("hidden"),T.classList.add("hidden");return}if(E.style.display="none",r.length===0){D.classList.add("hidden"),y.innerHTML=`<div>Fetching ${i} team repositories...</div>`,y.classList.remove("hidden");return}if(a){D.classList.remove("hidden"),T.classList.add("hidden");let d,h;const c=(l,g,f="")=>{const p=f?` <span class="pr-state">${f}</span>`:"",m=g!==null?`(${g}${p})`:"";return`${l} ${m}`};if(s){const l=c("Repositories",r.length,"edit ignores");C.innerHTML=l,d=r.map((g,f)=>`<li class="${`repo-item ${x(g)?"ignored":""} ${f===n?"selected":""}`}" data-index="${f}" data-repo="${g}">${g}</li>`).join(""),h="j/k or arrows to navigate · enter/space or click to toggle · i to exit"}else{const l=c("Repositories",r.length);C.innerHTML=l,d=r.map(g=>`<li class="repo-item ${x(g)?"ignored":""}"><a href="https://github.com/${o}/${g}" target="_blank" rel="noopener">${g}</a></li>`).join(""),h="i to edit ignores"}$.innerHTML=d,oe.innerHTML=h,$.classList.toggle("ignore-mode",s),$.classList.toggle("static-mode",!s)}else{D.classList.add("hidden"),T.classList.remove("hidden");let d="",h="";const c=(l,g=null,f="")=>{const p=f?`<span class="pr-state">${f.toLowerCase()}</span>`:"",m=g!==null?`(${g} ${p})`:"";return`<div class="section-header">${l} ${m}</div>`};if(e.showRecentPRs){const l=e.recentPRs,g=l.length,f=e.isFetchingRecentPRs?`<span class="fetching-spinner">${O()}</span>`:g;h=c("Pull requests",f,"MERGED")+l.map(m=>N(m)).join("");const p=e.showRecentPRs?e.recentPRs.length:l.length;document.title=`(${p}) PR Radiator`}else{const l=e.PRs.filter(m=>e.showDependabotPRs||m.author.login!=="dependabot").filter(m=>e.showMasterPRs||m.baseRefName!=="master"&&m.baseRefName!=="main").filter(m=>!e.showNeedsReviewPRs||m.reviewDecision==="REVIEW_REQUIRED"||m.reviewDecision===null),g=l.length,f=e.isFetchingOpenPRs?`<span class="fetching-spinner">${O()}</span>`:g;d=c("Pull requests",f,"OPEN")+l.map(m=>N(m,!1,e.showMasterPRs)).join("");const p=e.showRecentPRs?e.recentPRs.length:l.length;document.title=`(${p}) PR Radiator`}y.innerHTML=d,L.innerHTML=h,e.showRecentPRs?(y.classList.add("hidden"),L.classList.remove("hidden")):(y.classList.remove("hidden"),L.classList.add("hidden"))}a&&s&&($.focus(),$.querySelectorAll(".repo-item").forEach(h=>{h.removeEventListener("click",_),h.addEventListener("click",_)}))},_=t=>{const o=t.currentTarget.dataset.repo;t.currentTarget.classList.add("toggled"),setTimeout(()=>{t.currentTarget.classList.remove("toggled")},200),G(o)},Pe=(t,o)=>{let i=t,r;return r=setInterval(()=>i(),o),()=>clearInterval(r)},$e=async()=>{const{config:{token:t,owner:o,team:i,repos:r,ignoreRepos:s}}=e;if(t&&o&&r.length>0&&await R(t,o,r,s),Pe(()=>{t&&o&&r.length>0&&R(t,o,r,s).catch(n=>{console.error("Error in fetchOpenPRs on interval",n)})},3e5),E.hasAttribute("data-initialized")||(q.value=o,H.value=i,z.value=t,se.addEventListener("submit",ve),E.setAttribute("data-initialized","true")),document.addEventListener("keydown",n=>{if(E.style.display==="block"||document.activeElement.tagName==="INPUT")return;const{showRepoLinks:a,ignoreMode:d}=e;if(a&&d){let c=!0;switch(n.key){case"j":case"ArrowDown":if(e.config.repos.length>0){const l=Math.min(e.config.repos.length-1,e.selectedRepoIndex+1);u({selectedRepoIndex:l})}break;case"k":case"ArrowUp":if(e.config.repos.length>0){const l=Math.max(0,e.selectedRepoIndex-1);u({selectedRepoIndex:l})}break;case"Enter":case" ":if(n.preventDefault(),e.config.repos.length>0&&e.selectedRepoIndex>=0){const l=e.config.repos[e.selectedRepoIndex];G(l)}break;default:c=!1}if(c)return}if(a&&d&&n.key!=="i"&&n.key!=="l"&&n.key!=="?")return;const h={d:()=>u({showDependabotPRs:!e.showDependabotPRs}),m:()=>u({showMasterPRs:!e.showMasterPRs}),n:()=>u({showNeedsReviewPRs:!e.showNeedsReviewPRs}),a:()=>{const c=!e.showRecentPRs;u({showRecentPRs:c}),c&&e.config.token&&e.config.owner&&e.config.repos.length>0&&le(e.config.token,e.config.owner,e.config.repos,e.config.ignoreRepos).catch(console.error)},l:()=>{const c=!a;c?u({showRepoLinks:c,ignoreMode:!1,selectedRepoIndex:0,showRecentPRs:!1}):(localStorage.setItem("PR_RADIATOR_IGNORE_REPOS",JSON.stringify(e.config.ignoreRepos)),e.config.token&&e.config.owner&&e.config.repos.length>0&&R(e.config.token,e.config.owner,e.config.repos,e.config.ignoreRepos).catch(console.error),u({showRepoLinks:c,ignoreMode:!1,selectedRepoIndex:-1}))},i:()=>{if(!a)return;const c=!d;c||(localStorage.setItem("PR_RADIATOR_IGNORE_REPOS",JSON.stringify(e.config.ignoreRepos)),e.config.token&&e.config.owner&&e.config.repos.length>0&&R(e.config.token,e.config.owner,e.config.repos,e.config.ignoreRepos).catch(console.error)),u({ignoreMode:c,selectedRepoIndex:c?0:-1})},r:()=>{e.config.token&&e.config.owner&&e.config.repos.length>0&&R(e.config.token,e.config.owner,e.config.repos,e.config.ignoreRepos).catch(console.error)},"\\":()=>{u({config:{...e.config,repos:[]},PRs:[],recentPRs:[]}),k(),v.queryTeamRepos(e.config.token,e.config.owner,e.config.team).then(c=>v.filterTeamRepos(e.config.token,e.config.owner,e.config.team,c)).then(c=>{localStorage.setItem("PR_RADIATOR_REPOS",JSON.stringify(c)),u({config:{...e.config,repos:c}}),c.length>0?R(e.config.token,e.config.owner,c,e.config.ignoreRepos).catch(l=>{console.error("Error fetching PRs after repos",l),w()}):w()}).catch(c=>{console.error("Error fetching repos after submit",c),w()})},"?":()=>{M.style.display=M.style.display==="none"?"block":"none"}};h[n.key]&&h[n.key]()}),t&&o&&i&&r.length===0)try{k();const n=await v.queryTeamRepos(t,o,i),a=await v.filterTeamRepos(t,o,i,n);localStorage.setItem("PR_RADIATOR_REPOS",JSON.stringify(a)),u({config:{...e.config,repos:a}})}catch(n){console.error("Error in getTeamRepos",n),w()}document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&t&&o&&r.length>0&&!e.isFetchingOpenPRs&&R(t,o,r,s).catch(n=>{console.error("Error in fetchOpenPRs on tab focus",n)})}),I()};$e();
